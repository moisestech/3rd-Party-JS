# Same Origin Rules

## **4.1.1 Rules for determining same origin**

Now, you know that documents with different origins can’t “talk” to each other, but
what rules are used to determine whether two documents share the same origin? The
rules are simple: access is granted only if the protocol, host, and (for browsers other
than Internet Explorer) port number for both interacting parties match perfectly. In
all other cases, access is forbidden. Table 4.1 illustrates the result of same-origin policy
checks against http://example.com.

**Table 4.1 Same-origin policy rules checks against http://example.com**

DON’T IGNORE THE PORT We’ve seen quite a few developers (ourselves
included) forget that SOP also checks for matching ports. For example,
requests from thirdpartyjs.com to thirdpartyjs.com:8080 will fail miserably.
Most browsers don’t give you any helpful information when requests are
being rejected by the SOP, which can make debugging tough. So please,
don’t forget!

As you can see from the table, there’s not much a malicious party can do unless they
execute their code on a page with the same domain, protocol, and port as their target
document. This is good news, but before that warm feeling of safety takes over, don’t
forget that modern browsers consist of many different components and not all those
components implement the same-origin policy. For example, Adobe’s Flash browser
plugin doesn’t adhere to the SOP, and permits messaging between Flash objects on
different documents, same origin or not.

---

#### From [[_1_ajax-same-origin-policy]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[_1_ajax-same-origin-policy]: _1_ajax-same-origin-policy "AJAX Same Origin Policy"
[//end]: # "Autogenerated link references"

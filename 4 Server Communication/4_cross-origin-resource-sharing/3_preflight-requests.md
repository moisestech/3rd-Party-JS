# Preflight Requests

## **4.4.3 Sending preflight requests**

With CORS, if your request method is something other than GET, POST, or HEAD, or if
you’re sending a custom HTTP header, the browser will make what’s called a preflight
request. A preflight request is a server verification mechanism that allows both parties
to decide whether the attempt is legitimate before performing the actual request.
When you try to make such a nonsimple request to the server, the browser makes a
preflight request with information about the original request method and its headers.
The server then needs to decide whether the request should be allowed and send the
necessary information back. Preflight requests are always transmitted using a special
HTTP method called OPTIONS.
To notify the server about the upcoming request and ask for permission, the client
sends the following headers:
 Origin—The origin of the request
 Access-Control-Request-Method—The intended HTTP method of the request

 Access-Control-Request-Headers—A comma-separated list of custom head-
ers that the request wants to use

The server then communicates back to the client by sending the following headers
with the response:
 Access-Control-Allow-Origin—The allowed origin (must match the Origin
header from the request)
 Access-Control-Allow-Methods—A comma-separated list of allowed methods
 Access-Control-Allow-Headers—A comma-separated list of allowed headers

 Access-Control-Max-Age—The amount of time (in seconds) that this preflight
request should be cached for
 Access-Control-Allow-Credentials—Indicates whether the requested
resource supports credentialed requests (optional)
After the client receives the response from the server, it sends the real request using
the previously declared HTTP method and headers. Additionally, the preflight

response is cached by the browser. While it’s cached (for the duration of Access-
Control-Max-Age), any subsequent requests of the same type won’t invoke the over-
head of an additional preflight request.

Unfortunately, support for CORS preflight requests is somewhat limited: they’re
only implemented in Firefox, Safari, and Chrome. Again, we’re bitten by Internet
Explorer, which doesn’t currently support preflight requests. Internet Explorer 10
can’t come soon enough.

---

#### From [[_4_cross-origin-resource-sharing]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[_4_cross-origin-resource-sharing]: _4_cross-origin-resource-sharing "Cross-Origin Resouce Sharing"
[//end]: # "Autogenerated link references"

# 7️⃣ Security

## **This Chapter Covers**

1. Cross-site scripting (XSS)
2. Cross-site request forgery (XSRF)
3. Publisher impersonation, clickjacking, and denial of service.

## **Intro**

In previous chapters, you learned how to create a functional and configurable third-party JavaScript application, how to enable that application to communicate with your servers, and how to authenticate your users to unlock private and semiprivate features. This chapter presents another important topic involving third party JavaScript applications—the security of your application.

In the early days, the web was rather simple—it was a system of interlinked websites. These websites represented ordinary documents and were mostly static. The web server’s job was to retrieve a document from the filesystem and send it to the browser. The browser, working on the client side of this process, received the document and displayed it to the user. Websites rarely, if ever, authenticated their users because the web was essentially designed as an open system to share hypertext documents. Any security threats during this time of innocence were related to vulnera-
bilities in web servers, which were the main targets for attackers.

Today, the web is completely different. Not only do we have complicated web appli-
cations that cover everything from our favorite news sources to our personal health

records, we also have web applications that run inside of other web properties—or
third-party JavaScript applications (the topic of this book). Because modern web

applications deal with sensitive data, the web isn’t the same open system to share doc-
uments anymore, and that significantly changes the security landscape. There are new

security threats that target the browser such that a malicious party can compromise
your web application, steal users’ personal information, carry out financial fraud, and
perform unauthorized actions.

When it comes to third-party web application security, the stakes are high for every-
one. Users trust you with their data, publishers give you the keys to their web proper-
ties hoping that you’ll use them responsibly, and your own reputation is at stake.

Reputation plays a critical role because no website will want to install your third-party

application—no matter how good it is—if there’s a possibility that it might compro-
mise their own property.

In this chapter, we’ll walk you through security vulnerabilities that are of particular
concern to third-party JavaScript applications, and show you how to prevent them.
We’ll start with a quick review of sessions and cookies because, as you’ll soon learn,
these are the primary targets in many web attacks. Then we’ll look in depth at two
major vulnerabilities: cross-site scripting (XSS) and cross-site request forgery (XSRF).

Afterward, we’ll tackle vulnerabilities that both target—and are carried out by—pub-
lishers that are hosting your applications.

## **7.1 Cookies, Sessions, and Session Theft**

[[_1_cookies-sessions]]

## **7.2 Cross-site Scripting**

[[_2_cross-site-scripting]]

## **7.3 Cross-site Request Forgery**

[[_3_request-forgery]]

## **7.4 Publisher Vulnerabilities**

## **7.5 Summary**

- We started this chapter with:
  - **a refresher on cookies**,
  - and **then walked through different types of web application vulnerabilities**:
    - **cross-site scripting**,
    - **cross-site request forgery**,
    - and a number of **vulnerabilities that either affect or are caused by publishers**.
- The important lesson here is that **you should never underestimate or shelve the problem of keeping your third-party application secure**.

- As we said in the introduction to this chapter, the stakes are high for everyone and especially for you—the third-party JavaScript application provider.
- Not only do **users trust you with their data, but so do publishers with their online properties**.
- That’s why **you have to think about security implications at all stages of your application’s development**.
- There’s no silver bullet when it comes to defending yourself against different types of attacks.
- You’ll probably have to use all the techniques we showed in this chapter plus invest time in additional research.
- Web application security is a fun and thriving subject and, in case you’re interested in further exploring it, we recommend you take a look at the **Web Application Hacker’s Handbook (Wiley, 2008)** — a great resource on web application security.
- As for us, it’s time to move on.

#### Next Chapter

[[_3rd-party-js-SDK]]

- In the next chapter, we’ll revisit some assumptions we’ve made about distributing and deploying a third-party application.
- Instead of relying solely on self-executing applications deployed using script-include snippets, we’ll look at how you can package your apps as complete JavaScript libraries, or third-party JavaScript SDKs.

---

[//begin]: # "Autogenerated link references for markdown compatibility"
[_1_cookies-sessions]: 1_cookies-sessions/_1_cookies-sessions "Cookies Sessions"
[_2_cross-site-scripting]: 2_cross-site-scripting/_2_cross-site-scripting "Cross-Site Scripting"
[_3_request-forgery]: 3_request-forgery/_3_request-forgery "Request Forgery"
[_3rd-party-js-SDK]: ../8 3rd-Party JS-SDK/_3rd-party-js-SDK "8️⃣ 3rd Party JS SDK"
[//end]: # "Autogenerated link references"

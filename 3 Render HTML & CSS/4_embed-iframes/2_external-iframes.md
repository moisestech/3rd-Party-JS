# External iFrames

## 3.4.2 External iFrames

External iframes are the last line of defense in
the protection of widget markup from the
publisher. Unlike src-less iframes, external

iframes display content served from an exter-
nal URL. This is the standard use case for

iframes: embedding content from a remote
URL (see figure 3.5). But because the content
is served from a different URL, the browser
prevents script access to the iframe from code
hosted on the parent page.5

This means the
publisher can’t modify the contents of the
iframe in any way.
To create an external iframe, you’ll follow
the same steps as before, but this time set the
src attribute of the iframe to the URL of a web

page hosted on your servers (say, on cameras-
tork.com). Because the contents of this page

can’t be accessed from your main application

code, you’ll need to pass any necessary parame-
ters or application state as part of the URL. This can be either as query string parame-
ters or using the document fragment. For example, in the case of the Stork Widget,

this will be the product ID. The external page will extract the product ID from the
URL, fetch the corresponding data, and render a full HTML page containing the final
contents of the widget.
For example, the iframe’s src attribute could be set to the following URL:
iframe.src = 'http://camerastork.com/product.html?id=1337';

This URL corresponds to a server endpoint that’s responsible for outputting the wid-
get contents as a fully formed HTML page. This page could be generated server-side

(since it’s being served from your servers) or client-side using JavaScript.
Here’s the HTML output from http://camerastork.com/product.html?id=1337.
The widget markup is the same as the earlier example, but this time it’s wrapped in a
fully-formed HTML document:

```html
<!DOCTYPE html>
<html>
  <body>
    <style>
      /* ... */
    </style>
    <h3>Mikon E90 Digital SLR</h3>
    <img src="http://camerastork.com/img/products/1337-small.png" />
    <p>$599.99</p>
    <p>4.3/5.0 &bull; 176 Reviews</p>
  </body>
</html>
```

It’s probably becoming clear that if you use this approach, you’ll be transferring a lot

of the rendering logic out of your script and into the code that serves your iframe con-
tents. This makes sense: because it’s an external iframe, you can’t modify the HTML

elements from your application code. But if you can’t touch the contents, neither can
the publisher, and that’s why you’d take up such an inconvenience.6

---

#### From [[_4_embed-iframes]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[_4_embed-iframes]: _4_embed-iframes "Embed iFrames"
[//end]: # "Autogenerated link references"

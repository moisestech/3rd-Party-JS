# Refrain iFrame

## 3.4.4 When to refrain from using iFrames?

At this point, you’re probably thinking that iframes are the silver bullet to rendering

defensive widget HTML and CSS. In some ways, they are—iframes provide the best pro-
tection against conflicting styles and scripts. But that protection comes at a cost.

Sometimes rendering on the publisher’s DOM, for all its difficulties in maintaining
consistent styles, is more appropriate. Let’s quickly look at some of these situations.
YOU NEED TO RENDER OUTSIDE THE IFRAME
One of the biggest costs of doing all your rendering inside an iframe is that you can’t
render outside the iframe. There are a number of situations where rendering outside
the iframe is helpful. For example, modal dialogs that overlay the entire page content
aren’t possible if your rendering is restricted to the space occupied by your iframe. By
the same token, tooltips, which are often positioned “on top” of elements, will be
more difficult to use because they
might clip the border of your iframe
(see figure 3.8). In both of these
cases, it’s perfectly appropriate to
render directly on the publisher’s
page instead. Absolute positioned
elements like modals and tooltips

(which are children of the body ele-
ment) are far less likely to be acciden-
tally targeted by the publisher’s styles,

so this isn’t as bad as it seems.
YOU NEED TO MAXIMIZE PERFORMANCE

Iframes, particularly external iframes that load a remote web page, happen to be some-
what slow. This slowness is perfectly negligible for a widget that’s rendered once or

twice on a publisher’s page. But if your third-party app is rendering a large number of

iframe instances on a single page, it may come at a large performance cost to publish-
ers. If there are smaller, repeated elements of your application that can be rendered on

the publisher’s DOM relatively conflict-free, that might be a better choice over iframes.
Alternatively (or supplementarily), you can help defer the performance cost of

multiple iframes by not rendering the iframes until they’re visible in the browser win-
dow (only load widgets that are immediately visible by the user). We’ll cover this tech-
nique and other performance topics in chapter 9.

YOU NEED MAXIMUM CUSTOMIZABILITY
We’ve already covered that it takes some work just to have your iframe inherit the page’s

base styles. What happens when you want to enable your publisher to style discrete ele-
ments of your application? Because they’re behind an iframe, they won’t be able to tar-
get your elements with CSS, even with the specificity-busting !important rule. Instead,

you’ll need to have publishers upload their CSS customizations to your server and serve
them from your iframe. Alternatively, you can accept a CSS customization parameter in
your script include widget and pass the results to your iframe that way.

Don’t get us wrong: iframes are great tools for rendering secure and bulletproof
content, and will probably be your best friend by the end of the book. But they’re not
the be-all and end-all to rendering. In all likelihood, you’ll end up using a healthy mix
of both iframe and publisher DOM rendering to achieve your application’s goals.

---

#### From [[_4_embed-iframes]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[_4_embed-iframes]: _4_embed-iframes "Embed iFrames"
[//end]: # "Autogenerated link references"

# 5️⃣ Cross-Domain Messaging

1. The role of **iFrames in cross-domain messaging**
2. **HTML5** `window.postMessage API`
3. `window.postMessage` alternatives for legacy browsers
4. **easyXDM** — the cross-domain messaging library

## **5.1 HTML5 window.postMessage API**

## **5.2 Fallback Techniques**

## **5.3 Simple Cross-Domain Messaging with easy XDM**

## **5.4 Summary**

- This chapter covered one of the most important topics when it comes to third-party JavaScript development:
  - **communication between your application code executing in the publisher’s context**
  - and **iframes hosted on your domain**.
- You should now have a **clear understanding of how cross-domain communication works in modern browsers**
  - and what **workarounds are available for legacy browsers**.
- You should also be familiar with **easyXDM—a library that takes care of all the dirty work for you**.
- If something is still not clear, don’t worry.
- A bit of practice usually helps to **understand how the browser security model works**
  - and **why API designers came up with such things as** the `window.postMessage API`.
- You might be wondering, where do we go from here?

### Project Widget

- Cross-domain messaging is a complicated topic, so we suggest that you take a break and try to implement a feature for your Stork widget that requires it to communicate with the server.
- You can add the ability to:
  - post reviews
  - rate products
  - or even challenge yourself in the analytics field.
- For example, try logging what browsers your users use or what JavaScript libraries are installed on their pages.

#### Examples

- When in doubt, refer to examples from this and previous 4 In chapter 1, we mentioned how Prototype JavaScript library versions 1.7 and below introduce subtle, breaking changes to the built-in JSON object. chapters.
- Sooner or later, you’ll find yourself comfortable dealing with browsers’ idiosyncrasies and using easyXDM to satisfy your cross-domain messaging needs.

- At this point, we assume that:
  - you can load your third-party application on the publisher’s page
  - render elements on the DOM
  - communicate with iframes on your domain
  - and transmit data to and from your servers.

#### Next Chapter

[[_auth-sessions]]

- But we’re not finished. We still have some notable topics to cover, including authentication, security, and troubleshooting, which we’ll cover in the following chapters.
- You’ll learn how to authenticate your users on different sites, how to make your widget faster and more secure, and debugging techniques for after your third-party application is out in the wild.
- But pat yourself on the back, because the hardest part is over.
- It’s all downhill from here!

#### Related

- [[windows-message-api]]
- [[fallback-techniques]]
- [[easy-xdm]]

---

[//begin]: # "Autogenerated link references for markdown compatibility"
[_auth-sessions]: ../6 Auth & Sessions/_auth-sessions "6️⃣ Auth & Sessions"
[windows-message-api]: windows-message-api "Windows Message API"
[fallback-techniques]: fallback-techniques "Fallback Techniques"
[easy-xdm]: easy-xdm "Easy XDM"
[//end]: # "Autogenerated link references"
